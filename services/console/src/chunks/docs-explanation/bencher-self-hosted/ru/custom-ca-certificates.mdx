## Пользовательские сертификаты ЦС

По умолчанию, `bencher` CLI загружает сертификаты из встроенного контейнера [`webpki-roots` crate][webpki-roots].
`webpki-roots` — это надежный набор корней доверия от Mozilla,
и их включение в `bencher` улучшает портативность и производительность.
Это особенно важно на macOS, где чтение системного хранилища доверия вызывает значительную задержку.

Однако в некоторых случаях вы можете захотеть использовать нативное хранилище сертификатов платформы,
особенно если вы полагаетесь на корпоративный корень доверия, который включен в хранилище сертификатов вашей системы
для обязательного прокси или подключения с самоподписанным Bencher Self-Hosted.
Чтобы указать `bencher` использовать системное хранилище доверия, запустите `bencher` с
[флагом `--native-tls`][native tls].

Если требуется прямой путь к сертификату,
установите переменную окружения `SSL_CERT_FILE` в путь к пакету сертификатов,
чтобы указать `bencher` использовать этот файл вместо системного хранилища доверия.
Это часто происходит в средах CI, где системное хранилище доверия недоступно.

Если требуется аутентификация клиентского сертификата (mTLS),
установите переменную окружения `SSL_CLIENT_CERT` в путь к файлу в формате PEM,
содержащему сертификат, за которым следует закрытый ключ.

Наконец, если вы используете настройку, в которой хотите доверять самоподписанному сертификату
или иначе отключить проверку сертификатов,
вы можете указать `bencher` разрешить небезопасные подключения к выделенным хостам через
[флаг `--insecure-host`][insecure host].
Этот флаг применим только к HTTPS-подключениям, так как HTTP-подключения по своей природе небезопасны.

**ПРЕДУПРЕЖДЕНИЕ**: используйте `--insecure-host` только в безопасной сети с проверенными источниками,
так как он обходят проверку SSL и могут подвергнуть вас [атакам типа "человек посередине"][wikipedia mitm].

[wikipedia mitm]: https://ru.wikipedia.org/wiki/%D0%90%D1%82%D0%B0%D0%BA%D0%B0_%D0%BF%D0%BE%D1%81%D1%80%D0%B5%D0%B4%D0%BD%D0%B8%D0%BA%D0%B0
[webpki-roots]: https://github.com/rustls/webpki-roots

[native tls]: /ru/docs/explanation/bencher-run/#--native-tls
[insecure host]: /ru/docs/explanation/bencher-run/#--insecure-host
